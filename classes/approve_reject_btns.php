<?phprequire_once("../config/db.php");session_start();function approve() {    $db_connection = new mysqli(DB_HOST, DB_USER, DB_PASS, DB_NAME);    $current = $db_connection->query("SELECT * FROM timesheet_info         WHERE emp_id= '". $_POST['approve_btn'] ."' ORDER BY id DESC LIMIT 1;");    $obj = $current->fetch_object();    $res = $db_connection->query("UPDATE timesheet_info SET state='". "APPROVE" ."'         WHERE emp_id= '". $_POST['approve_btn'] ."' and month='". $obj->month ."' and year='". $obj->year ."';");    $month = $obj->month + 1;    $year = $obj->year;    if($month > 12)    {        $month = 1;        $year++;    }    echo $_POST['approve_btn'] . " " . $month . " " . $year;    $db_connection->query("INSERT INTO timesheet_info (emp_id, month, year, state)         VALUES( '" . $_POST['approve_btn'] . "', '" . $month . "', '" . $year . "', '"."OPEN"."') ;");    }function reject() {    $db_connection = new mysqli(DB_HOST, DB_USER, DB_PASS, DB_NAME);    $current = $db_connection->query("SELECT * FROM timesheet_info         WHERE emp_id= '". $_POST['reject_btn'] ."' ORDER BY id DESC LIMIT 1;");    $obj = $current->fetch_object();    $res = $db_connection->query("UPDATE timesheet_info SET state='". "REJECT" ."'         WHERE emp_id= '". $_POST['reject_btn'] ."' and month='". $obj->month ."' and year='". $obj->year ."';");        $res = $db_connection->query("SELECT * FROM employee         WHERE id= '". $_POST['reject_btn'] ."';");    $obj = $res->fetch_object();        $to = $obj->email;    $subject = "Raport de rejectat";    $message = "Observatii: " . $_POST["reject_info"];    $from = "blaravirobla@gmail.com";    $headers = 'MIME-Version: 1.0' . "\r\n";    $headers .= 'Content-type: text/html; charset=iso-8859-1' . "\r\n";    $headers .= 'From: blaravirobla@gmail.com' . "\r\n";    mail($to,$subject,$message,$headers);}if (isset($_POST["approve_btn"])) {    approve();}if (isset($_POST["reject_btn"])) {    reject();}header('Location: ../user_page.php');?>